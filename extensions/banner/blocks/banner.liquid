{% comment %}
  extensions/banner/blocks/banner.liquid
{% endcomment %}

{% schema %}
{
  "name": "Custom Banner",
  "target": "section",
  "stylesheet": "banner.css",
  "javascript": "banner.js",
  "settings": [
    {
      "type": "text",
      "id": "heading",
      "label": "Banner Heading",
      "default": "Welcome to our store"
    },
    {
      "type": "textarea",
      "id": "description",
      "label": "Banner Description",
      "default": "Check out our latest products and special offers."
    },
    {
      "type": "image_picker",
      "id": "banner_image",
      "label": "Banner Image"
    },
    {
      "type": "select",
      "id": "banner_height",
      "label": "Banner Height",
      "options": [
        {
          "value": "small",
          "label": "Small"
        },
        {
          "value": "medium",
          "label": "Medium"
        },
        {
          "value": "large",
          "label": "Large"
        }
      ],
      "default": "medium"
    },
    {
      "type": "color",
      "id": "text_color",
      "label": "Text Color",
      "default": "#ffffff"
    },
    {
      "type": "color",
      "id": "background_color",
      "label": "Background Color",
      "default": "#4a4a4a"
    }
  ],
  "presets": [
    {
      "name": "Custom Banner",
      "category": "Custom Content"
    }
  ]
}
{% endschema %}

<div 
  id="app-block-{{block.id}}" 
  class="app-block banner-block banner-height-{{block.settings.banner_height}}"
  data-banner-settings='{{ block.settings | json }}'
  style="background-color: {{block.settings.background_color}};"
>
  <div class="banner-content" style="color: {{block.settings.text_color}};">
    {% if block.settings.heading != blank %}
      <h2 class="banner-heading">{{ block.settings.heading }}</h2>
    {% endif %}
    
    {% if block.settings.description != blank %}
      <div class="banner-description">{{ block.settings.description }}</div>
    {% endif %}
  </div>
  
  {% if block.settings.banner_image %}
    <div class="banner-image-container">
      <img 
        src="{{ block.settings.banner_image | img_url: 'master' }}" 
        alt="{{ block.settings.heading }}"
        class="banner-image"
      >
    </div>
  {% endif %}
</div>

<style>
  .banner-block {
    display: flex;
    flex-direction: column;
    position: relative;
    width: 100%;
    overflow: hidden;
    padding: 30px;
  }
  
  .banner-height-small {
    min-height: 200px;
  }
  
  .banner-height-medium {
    min-height: 300px;
  }
  
  .banner-height-large {
    min-height: 400px;
  }
  
  .banner-content {
    position: relative;
    z-index: 2;
    max-width: 600px;
    margin: 0 auto;
    text-align: center;
  }
  
  .banner-heading {
    font-size: 2rem;
    margin-bottom: 1rem;
  }
  
  .banner-description {
    font-size: 1.1rem;
    margin-bottom: 2rem;
  }
  
  .banner-image-container {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 1;
    opacity: 0.3;
  }
  
  .banner-image {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }
  
  @media screen and (min-width: 768px) {
    .banner-block {
      padding: 50px;
    }
  }
</style>